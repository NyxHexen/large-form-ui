<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dynamic Field Selector</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles/styles.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
  </head>
  <body>
    <div class="form-container mt-5">
      <div class="d-flex justify-content-center">
        <div class="col-12 d-flex py-4">
          <div class="row justify-content-between py-3 w-100">
            <form
              id="search-form"
              class="col-12 d-flex flex-column align-items-center h-100"
              action="#"
              method="POST"
              autocomplete="off"
            >
              <div class="flds-container d-flex h-100">
                <div
                  class="flds d-flex flex-column justify-content-center align-items-center h-100"
                >
                  <div class="mb-1">
                    <label for="cert_fld" class="fld-label">Certificate</label>
                    <input
                      type="text"
                      name="cert_fld"
                      id="cert_fld"
                      class="form-control"
                    />
                  </div>
                </div>
              </div>
              <button type="submit" class="btn btn-primary mt-3" aria-label="Search fields">SEARCH</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    <!-- Slide-out Fields Library Panel -->
    <aside id="fields-panel" class="fld-options fields-panel" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="fields-panel-title" tabindex="-1">
      <div class="panel-header d-flex align-items-center justify-content-between px-3 py-2 border-bottom">
        <h2 id="fields-panel-title" class="h6 m-0">Fields Library</h2>
        <div class="d-flex align-items-center">
          <div class="btn-group btn-group-sm me-2" role="group" aria-label="Pip sorting controls">
            <button id="sort-faves" type="button" class="btn btn-outline-secondary">Faves</button>
            <button id="sort-az" type="button" class="btn btn-outline-secondary">A–Z</button>
            <button id="refresh-pips" type="button" class="btn btn-outline-secondary" title="Refresh">↻</button>
          </div>
          <div class="btn-group btn-group-sm me-2" role="group" aria-label="Pip pagination">
            <button id="pip-prev" type="button" class="btn btn-outline-secondary">Prev</button>
            <span id="pip-page" class="px-2 small align-self-center">1/1</span>
            <button id="pip-next" type="button" class="btn btn-outline-secondary">Next</button>
          </div>
          <button id="close-panel" type="button" class="panel-close-btn" aria-label="Close Fields Library">
            <i class="fa-solid fa-chevron-right"></i>
          </button>
        </div>
      </div>
      <div class="panel-body p-3">
        <div class="pips d-flex"></div>
      </div>
    </aside>

    <!-- Right-side Control Rail -->
    <div class="control-rail">
      <button id="toggle-library" class="bookmark-btn" aria-controls="fields-panel" aria-expanded="false" aria-label="Toggle Fields Library">
        <i class="fa-regular fa-square-plus me-1"></i>
        Fields
      </button>
    </div>

    <!-- Backdrop for slide-out panel -->
    <div id="fields-backdrop" class="panel-backdrop" tabindex="-1" aria-hidden="true"></div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/plugins/rangePlugin.js"></script>
    <script
      src="https://kit.fontawesome.com/f05b6615ad.js"
      crossorigin="anonymous"
    ></script>
    <script type="module" src="scripts/scripts-alt.js"></script>
  </body>
</html>
